<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu M√©mo 30s - 1jour1histoire</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            color: white;
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .container {
            max-width: 650px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* üîù BARRE DE NAVIGATION SIMPLE */
        .top-bar {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(30, 30, 30, 0.95);
            color: white;
            padding: 15px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
        }

        .top-bar h1 {
            margin: 0;
            font-size: 1.5rem;
            font-family: 'Comic Sans MS', 'Segoe UI', sans-serif;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbowText 4s ease-in-out infinite;
        }

        @keyframes rainbowText {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .nav-categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
            gap: 15px;
        }

        .nav-categories a {
            color: white;
            text-decoration: none;
            background: rgba(74, 144, 226, 0.8);
            padding: 10px 15px;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
            border: 2px solid transparent;
        }

        .nav-categories a:hover {
            background: rgba(74, 144, 226, 1);
            transform: translateY(-2px) scale(1.05);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.4);
        }

        /* CONTENEUR PRINCIPAL DU JEU */
        .game-container {
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #4a90e2;
            margin-top: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .game-title {
            text-align: center;
            color: #4a90e2;
            font-size: 2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .game-subtitle {
            text-align: center;
            color: #ffc107;
            font-size: 1.1rem;
            margin-bottom: 30px;
            font-weight: 600;
        }

        /* INTERFACE DE S√âLECTION */
        .memo-selection {
            display: grid;
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
        }

        .memo-input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #4a90e2;
            border-radius: 10px;
            color: white;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .memo-input:focus {
            outline: none;
            border-color: #6bb6ff;
            box-shadow: 0 0 10px rgba(107, 182, 255, 0.5);
            background: rgba(255, 255, 255, 0.15);
        }

        .memo-input option {
            background: #2c3e50;
            color: white;
            padding: 10px;
        }

        .memo-submit {
            background: linear-gradient(135deg, #4a90e2, #357abd);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }

        .memo-submit:hover:not(:disabled) {
            background: linear-gradient(135deg, #357abd, #2c5f99);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }

        .memo-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* PHASES DU JEU */
        .memo-story {
            background: rgba(74, 144, 226, 0.1);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #4a90e2;
            margin: 20px 0;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .memo-timer {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 15px 25px;
            border-radius: 20px;
            display: inline-block;
            font-weight: bold;
            font-size: 1.3rem;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            animation: timerPulse 1s infinite;
        }

        @keyframes timerPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .memo-timer.warning {
            background: linear-gradient(135deg, #ff9800, #f57c00);
            animation: timerWarning 0.5s infinite;
        }

        .memo-timer.danger {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            animation: timerDanger 0.3s infinite;
        }

        @keyframes timerWarning {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes timerDanger {
            0% { transform: scale(1); box-shadow: 0 4px 15px rgba(244, 67, 54, 0.4); }
            50% { transform: scale(1.15); box-shadow: 0 6px 25px rgba(244, 67, 54, 0.8); }
            100% { transform: scale(1); box-shadow: 0 4px 15px rgba(244, 67, 54, 0.4); }
        }

        .memo-question {
            background: rgba(74, 144, 226, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #4a90e2;
            margin: 20px 0;
        }

        .memo-question h3 {
            color: #4a90e2;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .quiz-answers {
            display: grid;
            gap: 10px;
        }

        .quiz-answer {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #4a90e2;
            color: white;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1rem;
        }

        .quiz-answer:hover:not(.disabled) {
            background: rgba(74, 144, 226, 0.2);
            transform: translateX(5px);
        }

        .quiz-answer.correct {
            background: linear-gradient(135deg, #28a745, #20c997);
            border-color: #28a745;
        }

        .quiz-answer.wrong {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            border-color: #dc3545;
        }

        .quiz-answer.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .memo-result {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .memo-result.success {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .memo-result.failure {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
            color: white;
        }

        .memo-restart {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .memo-restart:hover {
            background: linear-gradient(135deg, #20c997, #17a085);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .container {
                padding: 15px 10px;
            }

            .game-container {
                padding: 20px 15px;
                margin-top: 15px;
            }

            .game-title {
                font-size: 1.7rem;
            }

            .game-subtitle {
                font-size: 1rem;
            }

            .memo-selection {
                gap: 15px;
            }

            .memo-input {
                padding: 12px;
                font-size: 15px;
            }

            .memo-submit {
                padding: 12px 25px;
                font-size: 1rem;
            }

            .nav-categories {
                gap: 10px;
                margin-top: 8px;
            }

            .nav-categories a {
                padding: 8px 12px;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .top-bar {
                padding: 10px 15px;
            }

            .top-bar h1 {
                font-size: 1.3rem;
            }

            .game-container {
                padding: 15px 10px;
            }

            .game-title {
                font-size: 1.5rem;
            }

            .memo-timer {
                font-size: 1.1rem;
                padding: 12px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Barre de navigation simplifi√©e -->
    <header class="top-bar">
        <h1>üß† Jeu M√©mo - 1jour1histoire</h1>
        <nav class="nav-categories">
            <a href="#memo" onclick="showMemo()">üß† M√©mo 30s</a>
            <a href="#quiz" onclick="showQuiz()">üß† Quiz</a>
            <a href="#enfant" onclick="showEnfantStories()">üßí Enfant</a>
            <a href="#enigme" onclick="showEnigmes()">üîç √ânigmes</a>
            <a href="#horreur" onclick="showHorreurStories()">üßü Horreur</a>
            <a href="#absurde" onclick="showAbsurdeStories()">ü§° Absurde</a>
            <a href="https://www.tiktok.com/@1jour1hiistoires" target="_blank" style="background: linear-gradient(135deg, #ff0050, #ff0080);">üéµ Rejoins-moi sur TikTok</a>
            <a href="https://ko-fi.com/1jour1histoire" target="_blank" style="background: linear-gradient(135deg, #29abe0, #00b9fe);">‚òï Soutenez-moi sur Ko-fi</a>
        </nav>
    </header>

    <div class="container">
        <div class="game-container" id="game-container">
            <!-- Le jeu m√©mo sera inject√© ici automatiquement -->
        </div>
    </div>

    <script>
        // DONN√âES DES HISTOIRES ET QUESTIONS
        const stories = {
            enfant: {
                1: "Il √©tait une fois une petite f√©e nomm√©e Luna qui vivait dans un jardin magique. Un jour, elle d√©couvrit que toutes les fleurs avaient perdu leurs couleurs. Avec l'aide de ses amis les papillons, elle partit √† la recherche de l'arc-en-ciel perdu pour redonner vie √† son jardin.",
                2: "Dans une for√™t enchant√©e, un petit renard curieux nomm√© F√©lix d√©couvrit une carte au tr√©sor. Il d√©cida de partir √† l'aventure avec son ami l'√©cureuil Noisette. Ensemble, ils apprirent que le v√©ritable tr√©sor √©tait leur amiti√©.",
                3: "La princesse √âtoile avait un pouvoir sp√©cial : elle pouvait faire appara√Ætre des √©toiles filantes. Un soir, elle remarqua qu'un petit village √©tait triste car ils n'avaient jamais vu d'√©toiles. Elle d√©cida de leur offrir la plus belle nuit √©toil√©e de leur vie.",
                4: "L√©o le petit dragon ne savait pas cracher du feu comme les autres dragons. Il √©tait tr√®s triste jusqu'au jour o√π il d√©couvrit qu'il pouvait cr√©er de magnifiques bulles multicolores qui rendaient tout le monde heureux.",
                5: "Dans un royaume sous-marin, la sir√®ne Perle gardait un phare magique qui guidait les bateaux perdus. Quand une terrible temp√™te √©teignit sa lumi√®re, elle dut faire appel au courage de tous les poissons pour rallumer l'espoir."
            },
            adulte: {
                1: "Marie ferma sa boutique de fleurs pour la derni√®re fois apr√®s 40 ans. En rangeant, elle d√©couvrit une lettre cach√©e depuis des d√©cennies. Cette lettre allait changer sa perspective sur toute sa vie et lui r√©v√©ler un secret gard√© par sa grand-m√®re.",
                2: "Thomas, architecte √† la retraite, d√©cida de construire une petite cabane dans les bois. Ce projet simple devint une qu√™te de sens qui le reconnecta avec la nature et avec lui-m√™me, lui apprenant que les plus belles cr√©ations naissent de la simplicit√©.",
                3: "√Ä 50 ans, Sophie quitta son travail de cadre pour ouvrir un caf√©-librairie. Cette d√©cision bouleversa sa vie et celle de son quartier, prouvant qu'il n'est jamais trop tard pour suivre ses r√™ves et cr√©er du lien social.",
                4: "Jean retrouva par hasard son premier amour apr√®s 30 ans lors d'une r√©union d'anciens √©l√®ves. Leur conversation d'une nuit leur fit comprendre que certaines connexions transcendent le temps et les circonstances de la vie.",
                5: "√âlise, photographe de guerre fatigu√©e, d√©cida de documenter la beaut√© ordinaire de sa ville natale. Ce projet artistique la gu√©rit de ses traumatismes et lui redonna foi en l'humanit√© √† travers les petits gestes du quotidien."
            },
            religion: {
                1: "Dans un petit monast√®re, le fr√®re Antoine passait ses journ√©es √† copier des manuscrits anciens. Un jour, il d√©couvrit entre les pages d'un livre saint une pri√®re oubli√©e qui apportait une paix profonde √† tous ceux qui la r√©citaient.",
                2: "Sarah, jeune femme en qu√™te de spiritualit√©, entreprit un p√®lerinage √† pied. Chaque √©tape de son voyage lui enseigna une nouvelle le√ßon sur la foi, la pers√©v√©rance et la g√©n√©rosit√© des √¢mes qu'elle rencontrait sur son chemin.",
                3: "Le p√®re Michel, cur√© d'un village isol√©, vit sa foi √©branl√©e par les difficult√©s de ses paroissiens. C'est en aidant une famille dans le besoin qu'il red√©couvrit le v√©ritable sens de sa vocation et la force de la communaut√©.",
                4: "Dans une synagogue centenaire, le rabbin David organisait chaque vendredi un d√Æner pour les personnes seules. Ces repas partag√©s cr√©√®rent des liens profonds et montr√®rent comment les traditions peuvent rassembler au-del√† des diff√©rences.",
                5: "Amina, jeune musulmane, luttait pour concilier sa foi et sa vie moderne. √Ä travers les enseignements de sa grand-m√®re et la m√©ditation, elle apprit que la spiritualit√© peut s'√©panouir dans tous les aspects de la vie quotidienne."
            }
        };

        const memoQuestions = {
            enfant: [
                { 
                    question: "Comment s'appelait la petite f√©e dans l'histoire ?", 
                    answers: ["A) Luna", "B) Stella", "C) Iris"], 
                    correct: 0,
                    explanation: "La petite f√©e s'appelait Luna et vivait dans un jardin magique."
                },
                { 
                    question: "Quel animal √©tait l'ami de F√©lix dans l'histoire ?", 
                    answers: ["A) Un lapin", "B) Un √©cureuil", "C) Un h√©risson"], 
                    correct: 1,
                    explanation: "F√©lix le renard avait pour ami l'√©cureuil Noisette."
                },
                { 
                    question: "Quel pouvoir avait la princesse √âtoile ?", 
                    answers: ["A) Contr√¥ler le vent", "B) Faire appara√Ætre des √©toiles filantes", "C) Parler aux animaux"], 
                    correct: 1,
                    explanation: "La princesse √âtoile pouvait faire appara√Ætre des √©toiles filantes."
                },
                { 
                    question: "Que cr√©ait L√©o le dragon au lieu de cracher du feu ?", 
                    answers: ["A) Des bulles multicolores", "B) De la fum√©e rose", "C) Des √©tincelles dor√©es"], 
                    correct: 0,
                    explanation: "L√©o cr√©ait de magnifiques bulles multicolores qui rendaient tout le monde heureux."
                },
                { 
                    question: "Que gardait la sir√®ne Perle ?", 
                    answers: ["A) Un tr√©sor sous-marin", "B) Un phare magique", "C) Une grotte secr√®te"], 
                    correct: 1,
                    explanation: "La sir√®ne Perle gardait un phare magique qui guidait les bateaux perdus."
                }
            ],
            adulte: [
                { 
                    question: "Depuis combien d'ann√©es Marie tenait-elle sa boutique ?", 
                    answers: ["A) 30 ans", "B) 40 ans", "C) 50 ans"], 
                    correct: 1,
                    explanation: "Marie tenait sa boutique de fleurs depuis 40 ans."
                },
                { 
                    question: "Quel √©tait le m√©tier de Thomas ?", 
                    answers: ["A) Architecte", "B) Ing√©nieur", "C) Menuisier"], 
                    correct: 0,
                    explanation: "Thomas √©tait architecte et maintenant √† la retraite."
                },
                { 
                    question: "Quel type d'√©tablissement Sophie a-t-elle ouvert ?", 
                    answers: ["A) Une boulangerie", "B) Un caf√©-librairie", "C) Une galerie d'art"], 
                    correct: 1,
                    explanation: "Sophie a quitt√© son travail de cadre pour ouvrir un caf√©-librairie."
                },
                { 
                    question: "Apr√®s combien d'ann√©es Jean a-t-il retrouv√© son premier amour ?", 
                    answers: ["A) 25 ans", "B) 30 ans", "C) 35 ans"], 
                    correct: 1,
                    explanation: "Jean a retrouv√© son premier amour apr√®s 30 ans lors d'une r√©union d'anciens √©l√®ves."
                },
                { 
                    question: "Quel √©tait le m√©tier d'√âlise ?", 
                    answers: ["A) Journaliste", "B) Photographe", "C) R√©alisatrice"], 
                    correct: 1,
                    explanation: "√âlise √©tait photographe de guerre avant de se reconvertir."
                }
            ],
            religion: [
                { 
                    question: "Comment s'appelait le fr√®re du monast√®re ?", 
                    answers: ["A) Antoine", "B) Fran√ßois", "C) Bernard"], 
                    correct: 0,
                    explanation: "Le fr√®re Antoine passait ses journ√©es √† copier des manuscrits anciens."
                },
                { 
                    question: "Comment s'appelait la jeune femme en p√®lerinage ?", 
                    answers: ["A) Marie", "B) Sarah", "C) Claire"], 
                    correct: 1,
                    explanation: "Sarah √©tait la jeune femme en qu√™te de spiritualit√© qui entreprit un p√®lerinage √† pied."
                },
                { 
                    question: "Comment s'appelait le cur√© du village ?", 
                    answers: ["A) Pierre", "B) Michel", "C) Paul"], 
                    correct: 1,
                    explanation: "Le p√®re Michel √©tait le cur√© d'un village isol√©."
                },
                { 
                    question: "Comment s'appelait le rabbin ?", 
                    answers: ["A) Samuel", "B) David", "C) Isaac"], 
                    correct: 1,
                    explanation: "Le rabbin David organisait des d√Æners pour les personnes seules dans sa synagogue."
                },
                { 
                    question: "Comment s'appelait la jeune musulmane ?", 
                    answers: ["A) Fatima", "B) Amina", "C) Aicha"], 
                    correct: 1,
                    explanation: "Amina √©tait la jeune musulmane qui luttait pour concilier sa foi et sa vie moderne."
                }
            ]
        };

        // DONN√âES DES HISTOIRES ABSURDES
        const absurdeStories = [
            {
                title: "Le Jour o√π mon Grille-pain a Pris le Pouvoir",
                story: "Ce matin-l√†, mon grille-pain refusa de griller mes tartines. Au lieu de √ßa, il commen√ßa √† parler avec un accent britannique et exigea d'√™tre promu 'Ministre des Petits D√©jeuners'. En moins d'une heure, tous les appareils √©lectrom√©nagers de la maison s'√©taient joints √† la r√©volution. Mon mixeur √©tait devenu g√©n√©ral, et ma cafeti√®re avait fond√© un syndicat. Je dus n√©gocier un trait√© de paix en √©change de confiture premium.",
                questions: [
                    {
                        question: "Quel accent avait le grille-pain rebelle ?",
                        answers: ["A) Accent fran√ßais", "B) Accent britannique", "C) Accent italien"],
                        correct: 1,
                        explanation: "Le grille-pain parlait avec un accent britannique tr√®s distingu√© !"
                    },
                    {
                        question: "Quel poste le grille-pain voulait-il obtenir ?",
                        answers: ["A) Pr√©sident des Toasts", "B) Ministre des Petits D√©jeuners", "C) Roi de la Cuisine"],
                        correct: 1,
                        explanation: "Il voulait devenir 'Ministre des Petits D√©jeuners', rien de moins !"
                    },
                    {
                        question: "Qu'est-ce qui a permis de n√©gocier la paix ?",
                        answers: ["A) De la confiture premium", "B) De nouveaux boutons", "C) Une chanson"],
                        correct: 0,
                        explanation: "Les appareils ont accept√© la paix en √©change de confiture premium de qualit√© !"
                    }
                ]
            },
            {
                title: "L'Invasion des Chaussettes Fugueuses",
                story: "Hier soir, j'ai d√©couvert que toutes mes chaussettes avaient form√© une soci√©t√© secr√®te. Elles avaient √©lu une chaussette ray√©e comme pr√©sidente et organisaient des r√©unions nocturnes sous mon lit. Leur plan ? S'√©chapper par paires pour explorer le monde. J'ai trouv√© une carte dessin√©e au feutre rouge avec des destinations exotiques marqu√©es. La chaussette de sport voulait faire l'Everest, tandis que les chaussettes en soie r√™vaient de Paris.",
                questions: [
                    {
                        question: "Quelle chaussette √©tait devenue pr√©sidente ?",
                        answers: ["A) La chaussette de sport", "B) La chaussette ray√©e", "C) La chaussette en soie"],
                        correct: 1,
                        explanation: "La chaussette ray√©e avait √©t√© √©lue d√©mocratiquement par ses pairs !"
                    },
                    {
                        question: "O√π les chaussettes tenaient-elles leurs r√©unions ?",
                        answers: ["A) Dans l'armoire", "B) Sous le lit", "C) Dans la machine √† laver"],
                        correct: 1,
                        explanation: "Elles se cachaient sous le lit pour leurs r√©unions secr√®tes !"
                    },
                    {
                        question: "Quelle destination r√™vaient de visiter les chaussettes en soie ?",
                        answers: ["A) L'Everest", "B) Paris", "C) Tokyo"],
                        correct: 1,
                        explanation: "Les chaussettes en soie avaient des go√ªts raffin√©s et r√™vaient de Paris !"
                    }
                ]
            },
            {
                title: "Mon Chat Philosophe et ses Th√©ories",
                story: "Mon chat Whiskers a d√©couvert la philosophie apr√®s avoir renvers√© mes livres. Maintenant, il passe ses journ√©es √† m√©diter sur sa liti√®re en √©mettant des 'miaou' profonds qu'il pr√©tend √™tre des r√©v√©lations cosmiques. Il a fond√© une √©cole de pens√©e appel√©e 'Le Ronronnisme' et tente de convertir les autres animaux du quartier. Le chien d'√† c√¥t√© suit d√©j√† ses cours, et m√™me les pigeons viennent √©couter ses conf√©rences sur 'L'art de faire la sieste avec conscience'.",
                questions: [
                    {
                        question: "Comment le chat a-t-il d√©couvert la philosophie ?",
                        answers: ["A) En regardant la t√©l√©", "B) En renversant des livres", "C) En r√™vant"],
                        correct: 1,
                        explanation: "Whiskers a d√©couvert la philosophie en renversant accidentellement des livres !"
                    },
                    {
                        question: "Comment s'appelle l'√©cole de pens√©e de Whiskers ?",
                        answers: ["A) Le Miaulisme", "B) Le Ronronnisme", "C) Le F√©linisme"],
                        correct: 1,
                        explanation: "Son √©cole de pens√©e s'appelle 'Le Ronronnisme', √©videmment !"
                    },
                    {
                        question: "Sur quoi porte sa principale conf√©rence ?",
                        answers: ["A) L'art de chasser les souris", "B) L'art de faire la sieste avec conscience", "C) L'art de grimper aux arbres"],
                        correct: 1,
                        explanation: "Il enseigne 'L'art de faire la sieste avec conscience' - tr√®s profond !"
                    }
                ]
            }
        ];

        // DONN√âES DU JEU ENFANT
        const enfantStories = {
            1: {
                story: "Il √©tait une fois une petite f√©e nomm√©e Luna qui vivait dans un jardin magique. Un jour, elle d√©couvrit que toutes les fleurs avaient perdu leurs couleurs. Avec l'aide de ses amis les papillons, elle partit √† la recherche de l'arc-en-ciel perdu pour redonner vie √† son jardin.",
                questions: [
                    {
                        question: "Comment s'appelait la petite f√©e de l'histoire ?",
                        answers: ["A) Luna", "B) Stella", "C) Aurora"],
                        correct: 0,
                        explanation: "La petite f√©e s'appelait Luna et vivait dans un jardin magique."
                    },
                    {
                        question: "Que d√©couvrit Luna dans son jardin ?",
                        answers: ["A) Que les fleurs √©taient fan√©es", "B) Que les fleurs avaient perdu leurs couleurs", "C) Que les fleurs parlaient"],
                        correct: 1,
                        explanation: "Luna d√©couvrit que toutes les fleurs avaient perdu leurs couleurs."
                    },
                    {
                        question: "Qui aida Luna dans sa qu√™te ?",
                        answers: ["A) Les oiseaux", "B) Les papillons", "C) Les abeilles"],
                        correct: 1,
                        explanation: "Luna partit √† la recherche de l'arc-en-ciel avec l'aide de ses amis les papillons."
                    }
                ]
            },
            2: {
                story: "Dans une for√™t enchant√©e, un petit renard curieux nomm√© F√©lix d√©couvrit une carte au tr√©sor. Il d√©cida de partir √† l'aventure avec son ami l'√©cureuil Noisette. Ensemble, ils apprirent que le v√©ritable tr√©sor √©tait leur amiti√©.",
                questions: [
                    {
                        question: "Comment s'appelait le petit renard ?",
                        answers: ["A) F√©lix", "B) Oscar", "C) Roux"],
                        correct: 0,
                        explanation: "Le petit renard curieux s'appelait F√©lix."
                    },
                    {
                        question: "Qu'est-ce que F√©lix d√©couvrit ?",
                        answers: ["A) Un livre magique", "B) Une carte au tr√©sor", "C) Une grotte secr√®te"],
                        correct: 1,
                        explanation: "F√©lix d√©couvrit une carte au tr√©sor dans la for√™t enchant√©e."
                    },
                    {
                        question: "Quel √©tait le v√©ritable tr√©sor d√©couvert ?",
                        answers: ["A) De l'or", "B) Des pierres pr√©cieuses", "C) L'amiti√©"],
                        correct: 2,
                        explanation: "F√©lix et Noisette apprirent que le v√©ritable tr√©sor √©tait leur amiti√©."
                    }
                ]
            },
            3: {
                story: "La princesse √âtoile avait un pouvoir sp√©cial : elle pouvait faire appara√Ætre des √©toiles filantes. Un soir, elle remarqua qu'un petit village √©tait triste car ils n'avaient jamais vu d'√©toiles. Elle d√©cida de leur offrir la plus belle nuit √©toil√©e de leur vie.",
                questions: [
                    {
                        question: "Quel √©tait le pouvoir de la princesse √âtoile ?",
                        answers: ["A) Contr√¥ler le vent", "B) Faire appara√Ætre des √©toiles filantes", "C) Parler aux animaux"],
                        correct: 1,
                        explanation: "La princesse √âtoile pouvait faire appara√Ætre des √©toiles filantes."
                    },
                    {
                        question: "Pourquoi le village √©tait-il triste ?",
                        answers: ["A) Il pleuvait toujours", "B) Ils n'avaient jamais vu d'√©toiles", "C) Ils √©taient pauvres"],
                        correct: 1,
                        explanation: "Le petit village √©tait triste car ses habitants n'avaient jamais vu d'√©toiles."
                    },
                    {
                        question: "Que d√©cida de faire la princesse ?",
                        answers: ["A) Partir en voyage", "B) Offrir la plus belle nuit √©toil√©e", "C) Construire un ch√¢teau"],
                        correct: 1,
                        explanation: "La princesse d√©cida d'offrir au village la plus belle nuit √©toil√©e de leur vie."
                    }
                ]
            },
            4: {
                story: "L√©o le petit dragon ne savait pas cracher du feu comme les autres dragons. Il √©tait tr√®s triste jusqu'au jour o√π il d√©couvrit qu'il pouvait cr√©er de magnifiques bulles multicolores qui rendaient tout le monde heureux.",
                questions: [
                    {
                        question: "Que ne savait pas faire L√©o comme les autres dragons ?",
                        answers: ["A) Voler", "B) Cracher du feu", "C) Rugir"],
                        correct: 1,
                        explanation: "L√©o ne savait pas cracher du feu comme les autres dragons."
                    },
                    {
                        question: "Que d√©couvrit L√©o qu'il savait faire ?",
                        answers: ["A) Cr√©er des bulles multicolores", "B) Chanter", "C) Danser"],
                        correct: 0,
                        explanation: "L√©o d√©couvrit qu'il pouvait cr√©er de magnifiques bulles multicolores."
                    },
                    {
                        question: "Quel effet avaient les bulles de L√©o ?",
                        answers: ["A) Elles explosaient", "B) Elles rendaient tout le monde heureux", "C) Elles sentaient bon"],
                        correct: 1,
                        explanation: "Les bulles multicolores de L√©o rendaient tout le monde heureux."
                    }
                ]
            },
            5: {
                story: "Dans un royaume sous-marin, la sir√®ne Perle gardait un phare magique qui guidait les bateaux perdus. Quand une terrible temp√™te √©teignit sa lumi√®re, elle dut faire appel au courage de tous les poissons pour rallumer l'espoir.",
                questions: [
                    {
                        question: "Que gardait la sir√®ne Perle ?",
                        answers: ["A) Un tr√©sor", "B) Un phare magique", "C) Un palais"],
                        correct: 1,
                        explanation: "La sir√®ne Perle gardait un phare magique sous-marin."
                    },
                    {
                        question: "√Ä quoi servait le phare magique ?",
                        answers: ["A) √Ä √©clairer le royaume", "B) √Ä guider les bateaux perdus", "C) √Ä effrayer les ennemis"],
                        correct: 1,
                        explanation: "Le phare magique guidait les bateaux perdus."
                    },
                    {
                        question: "Qui aida Perle √† rallumer l'espoir ?",
                        answers: ["A) Les dauphins", "B) Tous les poissons", "C) Les baleines"],
                        correct: 1,
                        explanation: "Perle fit appel au courage de tous les poissons pour rallumer l'espoir."
                    }
                ]
            }
        };

        // DONN√âES DES √âNIGMES
        const enigmesData = {
            facile: [
                {
                    question: "Je suis toujours devant toi mais tu ne peux jamais me voir. Qui suis-je ?",
                    answers: ["A) L'avenir", "B) Le pass√©", "C) Le pr√©sent"],
                    correct: 0,
                    explanation: "L'avenir est toujours devant nous, mais on ne peut jamais le voir car il n'est pas encore arriv√© !"
                },
                {
                    question: "Plus tu en prends, plus tu en laisses derri√®re toi. Que suis-je ?",
                    answers: ["A) Des empreintes", "B) Du temps", "C) Des souvenirs"],
                    correct: 0,
                    explanation: "Plus tu fais de pas, plus tu laisses d'empreintes derri√®re toi !"
                },
                {
                    question: "Je peux √™tre cass√© sans √™tre touch√©. Que suis-je ?",
                    answers: ["A) Un verre", "B) Une promesse", "C) Un miroir"],
                    correct: 1,
                    explanation: "Une promesse peut √™tre cass√©e (bris√©e) sans qu'on la touche physiquement !"
                }
            ],
            moyen: [
                {
                    question: "Dans une course, tu d√©passes la personne en 2√®me position. √Ä quelle position es-tu maintenant ?",
                    answers: ["A) 1√®re position", "B) 2√®me position", "C) 3√®me position"],
                    correct: 1,
                    explanation: "Si tu d√©passes la personne en 2√®me position, tu prends sa place, donc tu es maintenant 2√®me !"
                },
                {
                    question: "Un homme vit au 20√®me √©tage. Quand il pleut, il prend l'ascenseur jusqu'au 20√®me. Quand il fait beau, il s'arr√™te au 10√®me et monte √† pied. Pourquoi ?",
                    answers: ["A) Il aime marcher", "B) Il est trop petit pour atteindre le bouton 20", "C) L'ascenseur est en panne"],
                    correct: 1,
                    explanation: "Il est trop petit pour atteindre le bouton du 20√®me √©tage, sauf quand il a un parapluie (quand il pleut) !"
                },
                {
                    question: "Si 5 chats attrapent 5 souris en 5 minutes, combien de temps faut-il √† 100 chats pour attraper 100 souris ?",
                    answers: ["A) 100 minutes", "B) 5 minutes", "C) 20 minutes"],
                    correct: 1,
                    explanation: "Si 5 chats attrapent 5 souris en 5 minutes, cela signifie qu'un chat attrape une souris en 5 minutes. Donc 100 chats attrapent 100 souris en 5 minutes aussi !"
                }
            ],
            difficile: [
                {
                    question: "Je commence la nuit et je finis le matin. Je suis dans la lune mais pas dans le soleil. Que suis-je ?",
                    answers: ["A) La lettre N", "B) L'obscurit√©", "C) Le silence"],
                    correct: 0,
                    explanation: "La lettre N : elle commence le mot 'Nuit', finit le mot 'matiN', est dans 'luNe' mais pas dans 'soleil' !"
                },
                {
                    question: "Un p√®re et son fils ont un accident de voiture. Le p√®re meurt sur le coup. Le fils est emmen√© √† l'h√¥pital. Le chirurgien dit : 'Je ne peux pas op√©rer, c'est mon fils.' Comment est-ce possible ?",
                    answers: ["A) Le chirurgien ment", "B) Le chirurgien est la m√®re", "C) C'est son beau-fils"],
                    correct: 1,
                    explanation: "Le chirurgien est la m√®re du gar√ßon ! Cette √©nigme joue sur nos pr√©jug√©s concernant les m√©tiers."
                },
                {
                    question: "Dans une maison, il y a une bougie, un po√™le √† bois et une chemin√©e. Tu n'as qu'une allumette. Qu'allumes-tu en premier ?",
                    answers: ["A) La bougie", "B) Le po√™le", "C) L'allumette"],
                    correct: 2,
                    explanation: "Tu dois d'abord allumer l'allumette avant de pouvoir allumer autre chose !"
                }
            ]
        };

        // DONN√âES DES HISTOIRES D'HORREUR
        const horreurStories = [
            {
                title: "La Maison aux Volets Clos",
                story: "Emma emm√©nagea dans une vieille maison au bout de la rue. Les voisins √©vitaient de la regarder. Le premier soir, elle entendit des pas √† l'√©tage... mais elle vivait seule. En montant, elle d√©couvrit des traces de pas poussi√©reuses qui menaient √† un mur. Le lendemain, elle trouva une photo d'elle en train de dormir sur sa table de nuit. Elle ne se souvenait pas de l'avoir prise.",
                questions: [
                    {
                        question: "Pourquoi les voisins √©vitaient-ils de regarder la maison ?",
                        answers: ["A) Elle √©tait trop belle", "B) Ils connaissaient son histoire troublante", "C) Elle √©tait en travaux"],
                        correct: 1,
                        explanation: "Les voisins savaient que quelque chose d'√©trange se passait dans cette maison."
                    },
                    {
                        question: "Que sugg√®rent les traces qui m√®nent au mur ?",
                        answers: ["A) Quelqu'un se cache dans les murs", "B) C'est de la poussi√®re normale", "C) Emma r√™ve"],
                        correct: 0,
                        explanation: "Les traces sugg√®rent qu'une pr√©sence invisible se d√©place dans la maison."
                    },
                    {
                        question: "Qui a pu prendre la photo d'Emma ?",
                        answers: ["A) Elle-m√™me en somnambule", "B) Un cambrioleur", "C) Une pr√©sence surnaturelle"],
                        correct: 2,
                        explanation: "Aucune explication rationnelle ne peut expliquer cette photo myst√©rieuse."
                    }
                ]
            },
            {
                title: "Le Miroir de Minuit",
                story: "Chaque nuit √† minuit, Sarah voyait dans son miroir une silhouette qui n'√©tait pas la sienne. La forme semblait la regarder avec insistance. Une nuit, elle d√©cida de couvrir le miroir. Le lendemain matin, des mots √©taient grav√©s dans la bu√©e : 'Tu ne peux pas m'√©chapper.' Sarah r√©alisa que la silhouette n'√©tait plus dans le miroir... elle √©tait maintenant derri√®re elle.",
                questions: [
                    {
                        question: "Que symbolise le miroir dans cette histoire ?",
                        answers: ["A) Un portail vers un autre monde", "B) Un simple reflet", "C) Un objet cass√©"],
                        correct: 0,
                        explanation: "Le miroir semble √™tre un passage entre notre monde et quelque chose d'autre."
                    },
                    {
                        question: "Pourquoi couvrir le miroir n'a-t-il pas fonctionn√© ?",
                        answers: ["A) Le tissu √©tait trop fin", "B) La pr√©sence √©tait d√©j√† pass√©e de l'autre c√¥t√©", "C) C'√©tait son imagination"],
                        correct: 1,
                        explanation: "La pr√©sence avait r√©ussi √† traverser le miroir et se trouvait maintenant dans notre monde."
                    },
                    {
                        question: "Que sugg√®re la fin de l'histoire ?",
                        answers: ["A) Sarah est en s√©curit√©", "B) La pr√©sence la poursuit d√©sormais", "C) Tout √©tait un r√™ve"],
                        correct: 1,
                        explanation: "La pr√©sence a quitt√© le miroir et menace maintenant directement Sarah."
                    }
                ]
            },
            {
                title: "Les Messages de 3h33",
                story: "Depuis une semaine, Alex recevait des SMS chaque nuit √† 3h33 d'un num√©ro inconnu. Les messages disaient toujours : 'Je te vois.' Il changea de t√©l√©phone, mais les messages continuaient. Une nuit, il √©teignit compl√®tement son t√©l√©phone. √Ä 3h33, l'√©cran s'alluma quand m√™me et afficha : 'Tu ne peux pas m'√©teindre.' Alex leva les yeux... et vit une silhouette √† sa fen√™tre du 5√®me √©tage.",
                questions: [
                    {
                        question: "Pourquoi 3h33 est-elle une heure significative ?",
                        answers: ["A) C'est l'heure du d√©mon", "B) C'est une co√Øncidence", "C) C'est l'heure la plus calme"],
                        correct: 0,
                        explanation: "3h33 est souvent associ√©e √† l'heure des ph√©nom√®nes paranormaux."
                    },
                    {
                        question: "Comment le t√©l√©phone peut-il s'allumer quand il est √©teint ?",
                        answers: ["A) Bug technique", "B) Influence surnaturelle", "C) Il n'√©tait pas vraiment √©teint"],
                        correct: 1,
                        explanation: "Aucune technologie normale ne peut expliquer ce ph√©nom√®ne."
                    },
                    {
                        question: "Que repr√©sente la silhouette au 5√®me √©tage ?",
                        answers: ["A) Un oiseau", "B) L'entit√© qui envoie les messages", "C) Son imagination"],
                        correct: 1,
                        explanation: "La pr√©sence qui envoie les messages s'est mat√©rialis√©e physiquement."
                    }
                ]
            }
        ];

        // VARIABLES SUPPL√âMENTAIRES DU JEU
        let currentHorreurStory = {
            selectedStory: 0,
            currentQuestion: 0,
            score: 0,
            answered: false
        };
        let currentEnfantStory = {
            selectedStory: 0,
            currentQuestion: 0,
            score: 0,
            answered: false
        };
        let currentAbsurdeStory = {
            selectedStory: 0,
            currentQuestion: 0,
            score: 0,
            answered: false
        };

        let currentEnigme = {
            difficulty: '',
            currentQuestion: 0,
            score: 0,
            questions: [],
            answered: false
        };

        // DONN√âES DU QUIZ
        const quizData = {
            questions: [
                {
                    question: "Quelle est la capitale de la France ?",
                    answers: ["Paris", "Lyon", "Marseille", "Toulouse"],
                    correct: 0
                },
                {
                    question: "Combien de continents y a-t-il sur Terre ?",
                    answers: ["5", "6", "7", "8"],
                    correct: 2
                },
                {
                    question: "Qui a √©crit 'Les Mis√©rables' ?",
                    answers: ["√âmile Zola", "Victor Hugo", "Gustave Flaubert", "Alexandre Dumas"],
                    correct: 1
                },
                {
                    question: "Quelle est la plan√®te la plus proche du Soleil ?",
                    answers: ["V√©nus", "Terre", "Mercure", "Mars"],
                    correct: 2
                },
                {
                    question: "En quelle ann√©e a eu lieu la R√©volution fran√ßaise ?",
                    answers: ["1789", "1799", "1804", "1815"],
                    correct: 0
                }
            ]
        };

        // VARIABLES DU JEU
        let currentMemo = {
            category: '',
            chapter: 0,
            question: {},
            timer: null,
            timeLeft: 30,
            phase: 'selection',
            answered: false
        };

        let currentQuiz = {
            currentQuestion: 0,
            score: 0,
            questions: [],
            answered: false
        };

        // AFFICHAGE DIRECT DU JEU M√âMO AU CHARGEMENT
        function initializeMemoGame() {
            showMemoSelection();
        }

        function showMemo() {
            showMemoSelection();
        }

        function showMemoSelection() {
            currentMemo.phase = 'selection';
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üß† Jeu M√©mo 30 secondes</div>
                <div class="game-subtitle">Testez votre m√©moire avec nos histoires !</div>
                
                <div class="memo-selection">
                    <select id="memo-category" class="memo-input">
                        <option value="">üéØ Choisissez une cat√©gorie</option>
                        <option value="enfant">üßí Histoire Enfant</option>
                        <option value="adulte">üë®‚Äçüíº Histoire Adulte</option>
                        <option value="religion">üôè Histoire Religion</option>
                    </select>
                    
                    <select id="memo-chapter" class="memo-input" disabled>
                        <option value="">üìñ Choisissez un chapitre</option>
                    </select>
                    
                    <button class="memo-submit" id="memo-start" onclick="startMemoGame()" disabled>
                        üöÄ Commencer le d√©fi m√©moire
                    </button>
                </div>
            `;
            
            // √âv√©nements pour la s√©lection
            document.getElementById('memo-category').addEventListener('change', function() {
                const chapterSelect = document.getElementById('memo-chapter');
                const startButton = document.getElementById('memo-start');
                
                if (this.value) {
                    chapterSelect.disabled = false;
                    chapterSelect.innerHTML = `
                        <option value="">üìñ Choisissez un chapitre</option>
                        <option value="1">üìö Chapitre 1</option>
                        <option value="2">üìö Chapitre 2</option>
                        <option value="3">üìö Chapitre 3</option>
                        <option value="4">üìö Chapitre 4</option>
                        <option value="5">üìö Chapitre 5</option>
                    `;
                } else {
                    chapterSelect.disabled = true;
                    chapterSelect.innerHTML = '<option value="">üìñ Choisissez un chapitre</option>';
                    startButton.disabled = true;
                }
            });
            
            document.getElementById('memo-chapter').addEventListener('change', function() {
                const startButton = document.getElementById('memo-start');
                startButton.disabled = !this.value;
            });
        }

        function startMemoGame() {
            const category = document.getElementById('memo-category').value;
            const chapter = parseInt(document.getElementById('memo-chapter').value);
            
            currentMemo.category = category;
            currentMemo.chapter = chapter;
            currentMemo.question = memoQuestions[category][chapter - 1];
            currentMemo.phase = 'reading';
            
            showMemoReading();
        }

        function showMemoReading() {
            const story = stories[currentMemo.category][currentMemo.chapter];
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üìñ Lisez attentivement</div>
                <div class="game-subtitle">Prenez le temps de bien lire cette histoire !</div>
                
                <div class="memo-story">
                    <h3 style="color: #4a90e2; margin-bottom: 15px;">Chapitre ${currentMemo.chapter}</h3>
                    <p>${story}</p>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" onclick="startMemoTimer()">
                        ‚úÖ J'ai fini de lire, commencer le test !
                    </button>
                </div>
            `;
        }

        function startMemoTimer() {
            currentMemo.phase = 'questioning';
            currentMemo.timeLeft = 30;
            currentMemo.answered = false;
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div style="text-align: center;">
                    <div class="memo-timer" id="memo-timer">‚è∞ ${currentMemo.timeLeft} secondes</div>
                </div>
                
                <div class="memo-question">
                    <h3>üß† Question de m√©moire :</h3>
                    <p style="font-size: 1.1rem; color: white; margin-bottom: 15px;">${currentMemo.question.question}</p>
                    <p style="color: #ffc107; margin-bottom: 15px;">‚ö° Vous avez 30 secondes pour r√©pondre !</p>
                    
                    <div class="quiz-answers" id="memo-answers">
                        ${currentMemo.question.answers.map((answer, index) => 
                            `<button class="quiz-answer" onclick="selectMemoAnswer(${index})">${answer}</button>`
                        ).join('')}
                    </div>
                </div>
            `;
            
            // D√©marrer le timer
            startTimer();
        }

        function startTimer() {
            currentMemo.timer = setInterval(() => {
                currentMemo.timeLeft--;
                const timerElement = document.getElementById('memo-timer');
                
                if (timerElement) {
                    timerElement.textContent = `‚è∞ ${currentMemo.timeLeft} secondes`;
                    
                    if (currentMemo.timeLeft <= 5) {
                        timerElement.className = 'memo-timer danger';
                    } else if (currentMemo.timeLeft <= 10) {
                        timerElement.className = 'memo-timer warning';
                    }
                }
                
                if (currentMemo.timeLeft <= 0) {
                    clearInterval(currentMemo.timer);
                    timeUp();
                }
            }, 1000);
        }

        function selectMemoAnswer(selectedIndex) {
            if (currentMemo.answered) return;
            
            currentMemo.answered = true;
            
            if (currentMemo.timer) {
                clearInterval(currentMemo.timer);
            }
            
            const correctIndex = currentMemo.question.correct;
            const answers = document.querySelectorAll('.quiz-answer');
            
            answers.forEach((answer, index) => {
                answer.classList.add('disabled');
                if (index === correctIndex) {
                    answer.classList.add('correct');
                } else if (index === selectedIndex) {
                    answer.classList.add('wrong');
                }
            });
            
            const isCorrect = selectedIndex === correctIndex;
            const selectedAnswer = currentMemo.question.answers[selectedIndex];
            
            setTimeout(() => {
                showMemoResult(isCorrect, selectedAnswer, false);
            }, 1500);
        }

        function timeUp() {
            if (currentMemo.answered) return;
            
            currentMemo.answered = true;
            const answers = document.querySelectorAll('.quiz-answer');
            const correctIndex = currentMemo.question.correct;
            
            answers.forEach((answer, index) => {
                answer.classList.add('disabled');
                if (index === correctIndex) {
                    answer.classList.add('correct');
                }
            });
            
            setTimeout(() => {
                showMemoResult(false, '', true);
            }, 1500);
        }

        function showMemoResult(isCorrect, userAnswer = '', timeExpired = false) {
            currentMemo.phase = 'finished';
            
            let resultMessage, resultClass;
            
            if (timeExpired) {
                resultMessage = "‚è∞ Temps √©coul√© ! Vous n'avez pas r√©pondu √† temps.";
                resultClass = "failure";
            } else if (isCorrect) {
                resultMessage = "üéâ Bravo ! Excellente m√©moire !";
                resultClass = "success";
            } else {
                resultMessage = "‚ùå Pas tout √† fait... R√©essayez pour am√©liorer votre m√©moire !";
                resultClass = "failure";
            }
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üìä R√©sultat</div>
                
                <div class="memo-result ${resultClass}">
                    ${resultMessage}
                </div>
                
                <div style="background: rgba(74, 144, 226, 0.1); padding: 20px; border-radius: 10px; margin: 20px 0;">
                    <p style="color: #4a90e2; font-weight: 600; margin-bottom: 10px;">Question :</p>
                    <p style="color: white; margin-bottom: 15px;">${currentMemo.question.question}</p>
                    
                    <p style="color: #4a90e2; font-weight: 600; margin-bottom: 10px;">Bonne r√©ponse :</p>
                    <p style="color: #28a745; font-weight: 600; margin-bottom: 15px;">${currentMemo.question.answers[currentMemo.question.correct]}</p>
                    
                    ${userAnswer && !timeExpired ? `
                        <p style="color: #4a90e2; font-weight: 600; margin-bottom: 10px;">Votre r√©ponse :</p>
                        <p style="color: ${isCorrect ? '#28a745' : '#dc3545'}; font-weight: 600; margin-bottom: 15px;">${userAnswer}</p>
                    ` : ''}
                    
                    <div style="padding: 15px; background: rgba(255, 196, 57, 0.1); border-radius: 8px; border-left: 4px solid #ffc439;">
                        <p style="color: #ffc439; font-weight: 600; margin-bottom: 8px;">üí° Explication :</p>
                        <p style="color: white; font-size: 0.95rem; line-height: 1.4;">${currentMemo.question.explanation}</p>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-restart" onclick="showMemoSelection()">
                        üîÑ Nouveau d√©fi m√©moire
                    </button>
                </div>
            `;
        }

        function showQuiz() {
            // Initialiser le quiz
            currentQuiz.currentQuestion = 0;
            currentQuiz.score = 0;
            currentQuiz.questions = [...quizData.questions].sort(() => Math.random() - 0.5).slice(0, 5);
            currentQuiz.answered = false;
            
            createQuizInterface();
        }

        function createQuizInterface() {
            const gameContainer = document.getElementById('game-container');
            const currentQuestion = currentQuiz.questions[currentQuiz.currentQuestion];
            
            gameContainer.innerHTML = `
                <div class="game-title">üß† Quiz Interactif</div>
                <div class="game-subtitle">Testez vos connaissances g√©n√©rales !</div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="background: linear-gradient(135deg, #4a90e2, #357abd); color: white; padding: 10px 20px; border-radius: 15px; display: inline-block; margin-bottom: 15px;">
                        Score: <span id="current-score">${currentQuiz.score}</span>/${currentQuiz.questions.length}
                    </div>
                    <div style="color: #4a90e2; font-weight: 600; margin-bottom: 20px;">
                        Question <span id="question-number">${currentQuiz.currentQuestion + 1}</span> sur ${currentQuiz.questions.length}
                    </div>
                </div>
                
                <div class="memo-question">
                    <h3 id="question-text">${currentQuestion.question}</h3>
                    <div class="quiz-answers" id="quiz-answers">
                        ${currentQuestion.answers.map((answer, index) => 
                            `<button class="quiz-answer" onclick="selectQuizAnswer(${index})">${answer}</button>`
                        ).join('')}
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" id="next-button" onclick="nextQuizQuestion()" style="display: none;">
                        ${currentQuiz.currentQuestion < currentQuiz.questions.length - 1 ? 'Question suivante' : 'Voir les r√©sultats'}
                    </button>
                </div>
            `;
        }

        function selectQuizAnswer(selectedIndex) {
            if (currentQuiz.answered) return;
            
            currentQuiz.answered = true;
            const correctIndex = currentQuiz.questions[currentQuiz.currentQuestion].correct;
            const answers = document.querySelectorAll('.quiz-answer');
            
            answers.forEach((answer, index) => {
                answer.classList.add('disabled');
                if (index === correctIndex) {
                    answer.classList.add('correct');
                } else if (index === selectedIndex) {
                    answer.classList.add('wrong');
                }
            });
            
            if (selectedIndex === correctIndex) {
                currentQuiz.score++;
                document.getElementById('current-score').textContent = currentQuiz.score;
            }
            
            document.getElementById('next-button').style.display = 'block';
        }

        function nextQuizQuestion() {
            currentQuiz.currentQuestion++;
            currentQuiz.answered = false;
            
            if (currentQuiz.currentQuestion < currentQuiz.questions.length) {
                // Question suivante
                const currentQuestion = currentQuiz.questions[currentQuiz.currentQuestion];
                
                document.getElementById('question-number').textContent = currentQuiz.currentQuestion + 1;
                document.getElementById('question-text').textContent = currentQuestion.question;
                
                const answersContainer = document.getElementById('quiz-answers');
                answersContainer.innerHTML = currentQuestion.answers.map((answer, index) => 
                    `<button class="quiz-answer" onclick="selectQuizAnswer(${index})">${answer}</button>`
                ).join('');
                
                const nextButton = document.getElementById('next-button');
                nextButton.style.display = 'none';
                nextButton.textContent = currentQuiz.currentQuestion < currentQuiz.questions.length - 1 ? 'Question suivante' : 'Voir les r√©sultats';
            } else {
                // Afficher les r√©sultats
                showQuizResults();
            }
        }

        function showQuizResults() {
            const percentage = Math.round((currentQuiz.score / currentQuiz.questions.length) * 100);
            let resultMessage, resultClass;
            
            if (percentage >= 80) {
                resultClass = 'success';
                resultMessage = "üéâ Excellent ! Vous ma√Ætrisez bien vos connaissances !";
            } else if (percentage >= 60) {
                resultClass = 'success';
                resultMessage = "üëç Bien jou√© ! Vous avez de bonnes connaissances !";
            } else {
                resultClass = 'failure';
                resultMessage = "üí™ Continuez √† apprendre, vous progresserez !";
            }
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üèÜ R√©sultats du Quiz</div>
                
                <div class="memo-result ${resultClass}">
                    ${resultMessage}
                </div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="font-size: 3rem; font-weight: bold; color: ${resultClass === 'success' ? '#28a745' : '#dc3545'}; margin-bottom: 10px;">
                        ${currentQuiz.score}/${currentQuiz.questions.length}
                    </div>
                    <div style="font-size: 2rem; font-weight: bold; color: ${resultClass === 'success' ? '#28a745' : '#dc3545'};">
                        ${percentage}%
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-restart" onclick="showQuiz()">
                        üîÑ Recommencer le quiz
                    </button>
                    <button class="memo-submit" onclick="showMemoSelection()" style="margin-left: 15px;">
                        üß† Essayer le jeu m√©mo
                    </button>
                </div>
            `;
        }

        // FONCTIONS POUR LES HISTOIRES ENFANT
        function showEnfantStories() {
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üßí Histoires pour Enfants</div>
                <div class="game-subtitle">Lis l'histoire et r√©ponds aux questions !</div>
                
                <div style="background: rgba(255, 192, 203, 0.1); padding: 25px; border-radius: 15px; border: 2px solid #ff69b4; margin: 20px 0;">
                    <h3 style="color: #ff69b4; text-align: center; margin-bottom: 20px; font-size: 1.4rem;">üåü Choisis ton histoire magique !</h3>
                    
                    <div style="display: grid; gap: 15px; max-width: 500px; margin: 0 auto;">
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #ff9a9e, #fecfef); border-color: #ff69b4; font-size: 1.1rem; padding: 18px;" onclick="startEnfantStory(1)">
                            üßö‚Äç‚ôÄÔ∏è Histoire de Luna la petite f√©e
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #a8edea, #fed6e3); border-color: #ff69b4; font-size: 1.1rem; padding: 18px;" onclick="startEnfantStory(2)">
                            ü¶ä L'aventure de F√©lix le renard
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #ffecd2, #fcb69f); border-color: #ff69b4; font-size: 1.1rem; padding: 18px;" onclick="startEnfantStory(3)">
                            ‚≠ê La princesse √âtoile
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #a8e6cf, #dcedc1); border-color: #ff69b4; font-size: 1.1rem; padding: 18px;" onclick="startEnfantStory(4)">
                            üê≤ L√©o le dragon sp√©cial
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #89f7fe, #66a6ff); border-color: #ff69b4; font-size: 1.1rem; padding: 18px;" onclick="startEnfantStory(5)">
                            üßú‚Äç‚ôÄÔ∏è Perle la sir√®ne
                        </button>
                    </div>
                </div>
            `;
        }

        function startEnfantStory(storyNumber) {
            currentEnfantStory.selectedStory = storyNumber;
            currentEnfantStory.currentQuestion = 0;
            currentEnfantStory.score = 0;
            currentEnfantStory.answered = false;
            
            showEnfantStoryReading();
        }

        function showEnfantStoryReading() {
            const story = enfantStories[currentEnfantStory.selectedStory];
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üìñ Histoire Magique</div>
                <div class="game-subtitle">Lis bien l'histoire, petit lecteur !</div>
                
                <div style="background: linear-gradient(135deg, #fff9c4, #f4e4bc); padding: 30px; border-radius: 15px; border: 3px solid #ffd700; margin: 20px 0; box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 2rem;">üìö</span>
                        <h3 style="color: #ff6b35; margin: 10px 0; font-family: 'Comic Sans MS', sans-serif;">Il √©tait une fois...</h3>
                    </div>
                    
                    <p style="color: #2c3e50; font-size: 1.2rem; line-height: 1.8; text-align: justify; font-family: 'Comic Sans MS', sans-serif;">
                        ${story.story}
                    </p>
                    
                    <div style="text-align: center; margin-top: 25px;">
                        <span style="font-size: 1.5rem;">‚ú®üåà‚ú®</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" style="background: linear-gradient(135deg, #ff6b35, #f7931e); font-size: 1.2rem; padding: 18px 35px; border-radius: 25px;" onclick="startEnfantQuestions()">
                        üéØ J'ai fini de lire ! Commencer les questions
                    </button>
                </div>
            `;
        }

        function startEnfantQuestions() {
            showEnfantQuestion();
        }

        function showEnfantQuestion() {
            const story = enfantStories[currentEnfantStory.selectedStory];
            const currentQuestion = story.questions[currentEnfantStory.currentQuestion];
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üéØ Questions Magiques</div>
                <div class="game-subtitle">R√©ponds bien pour gagner des √©toiles !</div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="background: linear-gradient(135deg, #ff6b35, #f7931e); color: white; padding: 12px 25px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 1.1rem;">
                        ‚≠ê Score: <span id="enfant-score">${currentEnfantStory.score}</span>/3 √©toiles
                    </div>
                    <div style="color: #ff6b35; font-weight: 600; margin-bottom: 20px; font-size: 1.1rem;">
                        Question <span id="enfant-question-number">${currentEnfantStory.currentQuestion + 1}</span> sur 3
                    </div>
                </div>
                
                <div style="background: rgba(255, 107, 53, 0.1); padding: 25px; border-radius: 15px; border: 2px solid #ff6b35; margin: 20px 0;">
                    <h3 style="color: #ff6b35; margin-bottom: 20px; font-size: 1.3rem; text-align: center;">${currentQuestion.question}</h3>
                    <div class="quiz-answers" id="enfant-answers">
                        ${currentQuestion.answers.map((answer, index) => 
                            `<button class="quiz-answer" style="background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(247, 147, 30, 0.1)); border-color: #ff6b35; font-size: 1.1rem; padding: 15px; margin: 8px 0;" onclick="selectEnfantAnswer(${index})">${answer}</button>`
                        ).join('')}
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" id="enfant-next-button" onclick="nextEnfantQuestion()" style="display: none; background: linear-gradient(135deg, #28a745, #20c997);">
                        ${currentEnfantStory.currentQuestion < 2 ? '‚û°Ô∏è Question suivante' : 'üéâ Voir mes r√©sultats'}
                    </button>
                </div>
                
                <div id="enfant-explanation" style="display: none; background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px; border: 2px solid #28a745;">
                    <p style="color: #28a745; font-weight: 600; margin-bottom: 8px;">üí° Explication :</p>
                    <p style="color: #2c3e50; font-size: 1rem; font-family: 'Comic Sans MS', sans-serif;"></p>
                </div>
            `;
        }

        function selectEnfantAnswer(selectedIndex) {
            if (currentEnfantStory.answered) return;
            
            currentEnfantStory.answered = true;
            const story = enfantStories[currentEnfantStory.selectedStory];
            const currentQuestion = story.questions[currentEnfantStory.currentQuestion];
            const correctIndex = currentQuestion.correct;
            const answers = document.querySelectorAll('.quiz-answer');
            
            answers.forEach((answer, index) => {
                answer.classList.add('disabled');
                if (index === correctIndex) {
                    answer.classList.add('correct');
                } else if (index === selectedIndex) {
                    answer.classList.add('wrong');
                }
            });
            
            if (selectedIndex === correctIndex) {
                currentEnfantStory.score++;
                document.getElementById('enfant-score').textContent = currentEnfantStory.score;
            }
            
            // Afficher l'explication
            const explanationDiv = document.getElementById('enfant-explanation');
            explanationDiv.querySelector('p:last-child').textContent = currentQuestion.explanation;
            explanationDiv.style.display = 'block';
            
            document.getElementById('enfant-next-button').style.display = 'block';
        }

        function nextEnfantQuestion() {
            currentEnfantStory.currentQuestion++;
            currentEnfantStory.answered = false;
            
            if (currentEnfantStory.currentQuestion < 3) {
                showEnfantQuestion();
            } else {
                showEnfantResults();
            }
        }

        function showEnfantResults() {
            const score = currentEnfantStory.score;
            let resultMessage, resultClass, resultEmoji;
            
            if (score === 3) {
                resultClass = 'success';
                resultMessage = "üåü PARFAIT ! Tu es un super lecteur ! Toutes les √©toiles sont √† toi !";
                resultEmoji = "üéâ‚ú®üåü";
            } else if (score === 2) {
                resultClass = 'success';
                resultMessage = "‚≠ê Tr√®s bien ! Tu as presque tout bon ! Continue comme √ßa !";
                resultEmoji = "üëèüåü‚≠ê";
            } else if (score === 1) {
                resultClass = 'success';
                resultMessage = "üåü Bien ! Tu peux faire encore mieux la prochaine fois !";
                resultEmoji = "üí™‚≠êüåà";
            } else {
                resultClass = 'failure';
                resultMessage = "üí´ C'est pas grave ! Relis l'histoire et essaie encore !";
                resultEmoji = "ü§óüìöüí´";
            }
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üèÜ R√©sultats Magiques</div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${resultEmoji}</div>
                </div>
                
                <div class="memo-result ${resultClass}">
                    ${resultMessage}
                </div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="background: linear-gradient(135deg, #ffd700, #ffed4e); color: #2c3e50; padding: 20px; border-radius: 20px; display: inline-block; box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);">
                        <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 10px;">
                            ‚≠ê ${score}/3 ‚≠ê
                        </div>
                        <div style="font-size: 1.2rem; font-weight: 600;">
                            ${score === 3 ? 'Toutes les √©toiles !' : score === 2 ? 'Presque parfait !' : score === 1 ? 'Une belle √©toile !' : 'La prochaine fois !'}
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="memo-restart" onclick="showEnfantStoryReading()">
                        üìñ Relire l'histoire
                    </button>
                    <button class="memo-submit" onclick="startEnfantQuestions()" style="background: linear-gradient(135deg, #ff6b35, #f7931e);">
                        üîÑ Refaire les questions
                    </button>
                    <button class="memo-submit" onclick="showEnfantStories()" style="background: linear-gradient(135deg, #9c88ff, #8c7ae6);">
                        üìö Autre histoire
                    </button>
                </div>
            `;
        }

        // FONCTIONS POUR LES √âNIGMES
        function showEnigmes() {
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üîç √ânigmes & Casse-t√™te</div>
                <div class="game-subtitle">Teste ta logique et ta r√©flexion !</div>
                
                <div style="background: linear-gradient(135deg, #667eea, #764ba2); padding: 25px; border-radius: 15px; border: 2px solid #667eea; margin: 20px 0; color: white;">
                    <h3 style="color: #fff; text-align: center; margin-bottom: 20px; font-size: 1.4rem;">üß© Choisis ton niveau de difficult√© !</h3>
                    
                    <div style="display: grid; gap: 15px; max-width: 500px; margin: 0 auto;">
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #a8e6cf, #88d8a3); border-color: #52c41a; font-size: 1.1rem; padding: 18px; color: #2c3e50;" onclick="startEnigmes('facile')">
                            üü¢ FACILE - Pour commencer en douceur
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #ffd93d, #ff9500); border-color: #fa8c16; font-size: 1.1rem; padding: 18px; color: #2c3e50;" onclick="startEnigmes('moyen')">
                            üü° MOYEN - Pour les penseurs
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #ff6b6b, #ee5a52); border-color: #f5222d; font-size: 1.1rem; padding: 18px; color: white;" onclick="startEnigmes('difficile')">
                            üî¥ DIFFICILE - Pour les experts
                        </button>
                    </div>
                </div>
            `;
        }

        function startEnigmes(difficulty) {
            currentEnigme.difficulty = difficulty;
            currentEnigme.currentQuestion = 0;
            currentEnigme.score = 0;
            currentEnigme.questions = [...enigmesData[difficulty]];
            currentEnigme.answered = false;
            
            showEnigmeQuestion();
        }

        function showEnigmeQuestion() {
            const currentQuestion = currentEnigme.questions[currentEnigme.currentQuestion];
            const gameContainer = document.getElementById('game-container');
            const difficultyColors = {
                facile: { bg: '#a8e6cf', border: '#52c41a', text: 'FACILE' },
                moyen: { bg: '#ffd93d', border: '#fa8c16', text: 'MOYEN' },
                difficile: { bg: '#ff6b6b', border: '#f5222d', text: 'DIFFICILE' }
            };
            const colors = difficultyColors[currentEnigme.difficulty];
            
            gameContainer.innerHTML = `
                <div class="game-title">üß© √ânigme ${colors.text}</div>
                <div class="game-subtitle">R√©fl√©chis bien avant de r√©pondre !</div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="background: linear-gradient(135deg, ${colors.bg}, ${colors.border}); color: #2c3e50; padding: 12px 25px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 1.1rem; font-weight: 600;">
                        üß† Score: <span id="enigme-score">${currentEnigme.score}</span>/${currentEnigme.questions.length}
                    </div>
                    <div style="color: ${colors.border}; font-weight: 600; margin-bottom: 20px; font-size: 1.1rem;">
                        √ânigme <span id="enigme-question-number">${currentEnigme.currentQuestion + 1}</span> sur ${currentEnigme.questions.length}
                    </div>
                </div>
                
                <div style="background: rgba(102, 126, 234, 0.1); padding: 25px; border-radius: 15px; border: 2px solid ${colors.border}; margin: 20px 0;">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 2rem;">ü§î</span>
                    </div>
                    <h3 style="color: ${colors.border}; margin-bottom: 20px; font-size: 1.3rem; text-align: center; line-height: 1.5;">${currentQuestion.question}</h3>
                    <div class="quiz-answers" id="enigme-answers">
                        ${currentQuestion.answers.map((answer, index) => 
                            `<button class="quiz-answer" style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); border-color: ${colors.border}; font-size: 1.1rem; padding: 15px; margin: 8px 0;" onclick="selectEnigmeAnswer(${index})">${answer}</button>`
                        ).join('')}
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" id="enigme-next-button" onclick="nextEnigmeQuestion()" style="display: none; background: linear-gradient(135deg, ${colors.bg}, ${colors.border}); color: #2c3e50;">
                        ${currentEnigme.currentQuestion < currentEnigme.questions.length - 1 ? '‚û°Ô∏è √ânigme suivante' : 'üéâ Voir mes r√©sultats'}
                    </button>
                </div>
                
                <div id="enigme-explanation" style="display: none; background: rgba(40, 167, 69, 0.1); padding: 20px; border-radius: 10px; margin-top: 15px; border: 2px solid #28a745;">
                    <p style="color: #28a745; font-weight: 600; margin-bottom: 10px; font-size: 1.1rem;">üí° Explication :</p>
                    <p style="color: #2c3e50; font-size: 1rem; line-height: 1.5;"></p>
                </div>
            `;
        }

        function selectEnigmeAnswer(selectedIndex) {
            if (currentEnigme.answered) return;
            
            currentEnigme.answered = true;
            const currentQuestion = currentEnigme.questions[currentEnigme.currentQuestion];
            const correctIndex = currentQuestion.correct;
            const answers = document.querySelectorAll('.quiz-answer');
            
            answers.forEach((answer, index) => {
                answer.classList.add('disabled');
                if (index === correctIndex) {
                    answer.classList.add('correct');
                } else if (index === selectedIndex) {
                    answer.classList.add('wrong');
                }
            });
            
            if (selectedIndex === correctIndex) {
                currentEnigme.score++;
                document.getElementById('enigme-score').textContent = currentEnigme.score;
            }
            
            // Afficher l'explication
            const explanationDiv = document.getElementById('enigme-explanation');
            explanationDiv.querySelector('p:last-child').textContent = currentQuestion.explanation;
            explanationDiv.style.display = 'block';
            
            document.getElementById('enigme-next-button').style.display = 'block';
        }

        function nextEnigmeQuestion() {
            currentEnigme.currentQuestion++;
            currentEnigme.answered = false;
            
            if (currentEnigme.currentQuestion < currentEnigme.questions.length) {
                showEnigmeQuestion();
            } else {
                showEnigmeResults();
            }
        }

        function showEnigmeResults() {
            const score = currentEnigme.score;
            const total = currentEnigme.questions.length;
            const percentage = Math.round((score / total) * 100);
            const difficultyColors = {
                facile: { bg: '#a8e6cf', border: '#52c41a', text: 'FACILE' },
                moyen: { bg: '#ffd93d', border: '#fa8c16', text: 'MOYEN' },
                difficile: { bg: '#ff6b6b', border: '#f5222d', text: 'DIFFICILE' }
            };
            const colors = difficultyColors[currentEnigme.difficulty];
            
            let resultMessage, resultClass, resultEmoji;
            
            if (percentage === 100) {
                resultClass = 'success';
                resultMessage = "üß† G√âNIE ! Tu as r√©solu toutes les √©nigmes !";
                resultEmoji = "üèÜüß†üéâ";
            } else if (percentage >= 67) {
                resultClass = 'success';
                resultMessage = "üéØ Excellent ! Tu as un esprit logique !";
                resultEmoji = "üëèüß©‚≠ê";
            } else if (percentage >= 33) {
                resultClass = 'success';
                resultMessage = "ü§î Pas mal ! Continue √† t'entra√Æner !";
                resultEmoji = "üí™üß†üí´";
            } else {
                resultClass = 'failure';
                resultMessage = "üîç Les √©nigmes sont difficiles ! R√©essaie !";
                resultEmoji = "ü§ØüìöüîÑ";
            }
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üèÜ R√©sultats √ânigmes ${colors.text}</div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${resultEmoji}</div>
                </div>
                
                <div class="memo-result ${resultClass}">
                    ${resultMessage}
                </div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="background: linear-gradient(135deg, ${colors.bg}, ${colors.border}); color: #2c3e50; padding: 20px; border-radius: 20px; display: inline-block; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);">
                        <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 10px;">
                            üß© ${score}/${total} üß©
                        </div>
                        <div style="font-size: 1.2rem; font-weight: 600;">
                            ${percentage}% de r√©ussite
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="memo-restart" onclick="startEnigmes('${currentEnigme.difficulty}')">
                        üîÑ Nouvelles √©nigmes ${colors.text}
                    </button>
                    <button class="memo-submit" onclick="showEnigmes()" style="background: linear-gradient(135deg, ${colors.bg}, ${colors.border}); color: #2c3e50;">
                        üéØ Changer de niveau
                    </button>
                </div>
            `;
        }

        // FONCTIONS POUR LES HISTOIRES D'HORREUR
        function showHorreurStories() {
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üßü Histoires d'Horreur</div>
                <div class="game-subtitle">Lis l'histoire et teste ton courage avec les questions !</div>
                
                <div style="background: linear-gradient(135deg, #2c1810, #4a2c2a); padding: 25px; border-radius: 15px; border: 2px solid #8b0000; margin: 20px 0; box-shadow: 0 8px 32px rgba(139, 0, 0, 0.5);">
                    <h3 style="color: #ff6b6b; text-align: center; margin-bottom: 20px; font-size: 1.4rem;">üíÄ Choisis ton cauchemar...</h3>
                    
                    <div style="display: grid; gap: 15px; max-width: 500px; margin: 0 auto;">
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #4a2c2a, #6b1a1a); border-color: #8b0000; font-size: 1.1rem; padding: 18px; color: #ff6b6b;" onclick="startHorreurStory(0)">
                            üèöÔ∏è La Maison aux Volets Clos
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #2d1b69, #5a2d82); border-color: #8b0000; font-size: 1.1rem; padding: 18px; color: #ff6b6b;" onclick="startHorreurStory(1)">
                            ü™û Le Miroir de Minuit
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #1a1a2e, #16213e); border-color: #8b0000; font-size: 1.1rem; padding: 18px; color: #ff6b6b;" onclick="startHorreurStory(2)">
                            üì± Les Messages de 3h33
                        </button>
                    </div>
                </div>
                
                <div style="text-align: center; padding: 15px; background: rgba(139, 0, 0, 0.1); border-radius: 10px; border: 1px solid #8b0000;">
                    <p style="color: #ff6b6b; font-size: 0.9rem;">‚ö†Ô∏è Attention : Ces histoires peuvent troubler les √¢mes sensibles...</p>
                </div>
            `;
        }

        function startHorreurStory(storyIndex) {
            currentHorreurStory.selectedStory = storyIndex;
            currentHorreurStory.currentQuestion = 0;
            currentHorreurStory.score = 0;
            currentHorreurStory.answered = false;
            
            showHorreurStoryReading();
        }

        function showHorreurStoryReading() {
            const story = horreurStories[currentHorreurStory.selectedStory];
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üëª ${story.title}</div>
                <div class="game-subtitle">Lis cette histoire... si tu l'oses</div>
                
                <div style="background: linear-gradient(135deg, #1a1a1a, #2c1810); padding: 30px; border-radius: 15px; border: 3px solid #8b0000; margin: 20px 0; box-shadow: 0 8px 25px rgba(139, 0, 0, 0.5);">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 2rem;">üíÄ</span>
                        <h3 style="color: #ff6b6b; margin: 10px 0; font-family: 'serif';">Histoire d'horreur</h3>
                    </div>
                    
                    <p style="color: #e0e0e0; font-size: 1.2rem; line-height: 1.8; text-align: justify; text-shadow: 0 1px 3px rgba(0,0,0,0.8);">
                        ${story.story}
                    </p>
                    
                    <div style="text-align: center; margin-top: 25px;">
                        <span style="font-size: 1.5rem;">üíÄüëªüíÄ</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" style="background: linear-gradient(135deg, #8b0000, #a50000); font-size: 1.2rem; padding: 18px 35px; border-radius: 25px;" onclick="startHorreurQuestions()">
                        üò∞ J'ai surv√©cu ! Commencer les questions
                    </button>
                </div>
            `;
        }

        function startHorreurQuestions() {
            showHorreurQuestion();
        }

        function showHorreurQuestion() {
            const story = horreurStories[currentHorreurStory.selectedStory];
            const currentQuestion = story.questions[currentHorreurStory.currentQuestion];
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üíÄ Questions de l'Au-del√†</div>
                <div class="game-subtitle">R√©ponds si tu en as le courage...</div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="background: linear-gradient(135deg, #8b0000, #a50000); color: white; padding: 12px 25px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 1.1rem;">
                        üëª Score: <span id="horreur-score">${currentHorreurStory.score}</span>/3 √¢mes
                    </div>
                    <div style="color: #ff6b6b; font-weight: 600; margin-bottom: 20px; font-size: 1.1rem;">
                        Question <span id="horreur-question-number">${currentHorreurStory.currentQuestion + 1}</span> sur 3
                    </div>
                </div>
                
                <div style="background: rgba(139, 0, 0, 0.1); padding: 25px; border-radius: 15px; border: 2px solid #8b0000; margin: 20px 0;">
                    <h3 style="color: #ff6b6b; margin-bottom: 20px; font-size: 1.3rem; text-align: center;">${currentQuestion.question}</h3>
                    <div class="quiz-answers" id="horreur-answers">
                        ${currentQuestion.answers.map((answer, index) => 
                            `<button class="quiz-answer" style="background: linear-gradient(135deg, rgba(139, 0, 0, 0.1), rgba(165, 0, 0, 0.1)); border-color: #8b0000; font-size: 1.1rem; padding: 15px; margin: 8px 0; color: #ff6b6b;" onclick="selectHorreurAnswer(${index})">${answer}</button>`
                        ).join('')}
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" id="horreur-next-button" onclick="nextHorreurQuestion()" style="display: none; background: linear-gradient(135deg, #8b0000, #a50000);">
                        ${currentHorreurStory.currentQuestion < 2 ? 'üëª Question suivante' : 'üéÉ Voir les r√©sultats'}
                    </button>
                </div>
                
                <div id="horreur-explanation" style="display: none; background: rgba(139, 0, 0, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px; border: 2px solid #8b0000;">
                    <p style="color: #ff6b6b; font-weight: 600; margin-bottom: 8px;">üíÄ Explication :</p>
                    <p style="color: #e0e0e0; font-size: 1rem;"></p>
                </div>
            `;
        }

        function selectHorreurAnswer(selectedIndex) {
            if (currentHorreurStory.answered) return;
            
            currentHorreurStory.answered = true;
            const story = horreurStories[currentHorreurStory.selectedStory];
            const currentQuestion = story.questions[currentHorreurStory.currentQuestion];
            const correctIndex = currentQuestion.correct;
            const answers = document.querySelectorAll('.quiz-answer');
            
            answers.forEach((answer, index) => {
                answer.classList.add('disabled');
                if (index === correctIndex) {
                    answer.classList.add('correct');
                } else if (index === selectedIndex) {
                    answer.classList.add('wrong');
                }
            });
            
            if (selectedIndex === correctIndex) {
                currentHorreurStory.score++;
                document.getElementById('horreur-score').textContent = currentHorreurStory.score;
            }
            
            // Afficher l'explication
            const explanationDiv = document.getElementById('horreur-explanation');
            explanationDiv.querySelector('p:last-child').textContent = currentQuestion.explanation;
            explanationDiv.style.display = 'block';
            
            document.getElementById('horreur-next-button').style.display = 'block';
        }

        function nextHorreurQuestion() {
            currentHorreurStory.currentQuestion++;
            currentHorreurStory.answered = false;
            
            if (currentHorreurStory.currentQuestion < 3) {
                showHorreurQuestion();
            } else {
                showHorreurResults();
            }
        }

        function showHorreurResults() {
            const score = currentHorreurStory.score;
            let resultMessage, resultClass, resultEmoji;
            
            if (score === 3) {
                resultClass = 'success';
                resultMessage = "üíÄ PARFAIT ! Tu as l'√¢me d'un chasseur de fant√¥mes !";
                resultEmoji = "üèÜüëªüíÄ";
            } else if (score === 2) {
                resultClass = 'success';
                resultMessage = "üëª Tr√®s bien ! Tu r√©sistes bien √† la peur !";
                resultEmoji = "üëèüíÄüéÉ";
            } else if (score === 1) {
                resultClass = 'success';
                resultMessage = "üéÉ Bien ! Tu commences √† percer les myst√®res...";
                resultEmoji = "üí™üëªüîÆ";
            } else {
                resultClass = 'failure';
                resultMessage = "üò∞ Les esprits t'ont troubl√© ! R√©essaie avec courage !";
                resultEmoji = "üò±üëªüí´";
            }
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üèÜ R√©sultats de l'Au-del√†</div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${resultEmoji}</div>
                </div>
                
                <div class="memo-result ${resultClass}">
                    ${resultMessage}
                </div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="background: linear-gradient(135deg, #8b0000, #a50000); color: white; padding: 20px; border-radius: 20px; display: inline-block; box-shadow: 0 8px 25px rgba(139, 0, 0, 0.5);">
                        <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 10px;">
                            üëª ${score}/3 üëª
                        </div>
                        <div style="font-size: 1.2rem; font-weight: 600;">
                            ${score === 3 ? 'Ma√Ætre de l\'horreur !' : score === 2 ? 'Chasseur d\'esprits !' : score === 1 ? 'Apprenti fant√¥me !' : '√Çme perdue !'}
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="memo-restart" onclick="showHorreurStoryReading()">
                        üìñ Relire le cauchemar
                    </button>
                    <button class="memo-submit" onclick="startHorreurQuestions()" style="background: linear-gradient(135deg, #8b0000, #a50000);">
                        üîÑ Refaire les questions
                    </button>
                    <button class="memo-submit" onclick="showHorreurStories()" style="background: linear-gradient(135deg, #4a2c2a, #6b1a1a);">
                        üíÄ Autre cauchemar
                    </button>
                </div>
            `;
        }

        // FONCTIONS POUR LES HISTOIRES ABSURDES
        function showAbsurdeStories() {
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">ü§° Histoires Absurdes</div>
                <div class="game-subtitle">Pr√©pare-toi √† rire avec des histoires compl√®tement folles !</div>
                
                <div style="background: linear-gradient(135deg, #ff9a9e, #fecfef); padding: 25px; border-radius: 15px; border: 2px solid #ff6b6b; margin: 20px 0; box-shadow: 0 8px 32px rgba(255, 107, 107, 0.3);">
                    <h3 style="color: #d63384; text-align: center; margin-bottom: 20px; font-size: 1.4rem;">üé™ Choisis ta dose de folie !</h3>
                    
                    <div style="display: grid; gap: 15px; max-width: 500px; margin: 0 auto;">
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #ffeaa7, #fdcb6e); border-color: #e17055; font-size: 1.1rem; padding: 18px; color: #2d3436;" onclick="startAbsurdeStory(0)">
                            üçû Le Grille-pain R√©volutionnaire
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7); border-color: #e17055; font-size: 1.1rem; padding: 18px; color: white;" onclick="startAbsurdeStory(1)">
                            üß¶ L'Invasion des Chaussettes
                        </button>
                        <button class="quiz-answer" style="background: linear-gradient(135deg, #fd79a8, #e84393); border-color: #e17055; font-size: 1.1rem; padding: 18px; color: white;" onclick="startAbsurdeStory(2)">
                            üê± Mon Chat Philosophe
                        </button>
                    </div>
                </div>
                
                <div style="text-align: center; padding: 15px; background: rgba(255, 107, 107, 0.1); border-radius: 10px; border: 1px solid #ff6b6b;">
                    <p style="color: #d63384; font-size: 0.9rem;">üòÇ Attention : Ces histoires peuvent provoquer des fous rires incontr√¥lables !</p>
                </div>
            `;
        }

        function startAbsurdeStory(storyIndex) {
            currentAbsurdeStory.selectedStory = storyIndex;
            currentAbsurdeStory.currentQuestion = 0;
            currentAbsurdeStory.score = 0;
            currentAbsurdeStory.answered = false;
            
            showAbsurdeStoryReading();
        }

        function showAbsurdeStoryReading() {
            const story = absurdeStories[currentAbsurdeStory.selectedStory];
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">ü§™ ${story.title}</div>
                <div class="game-subtitle">Pr√©pare-toi √† une histoire compl√®tement dingue !</div>
                
                <div style="background: linear-gradient(135deg, #fff3cd, #ffeeba); padding: 30px; border-radius: 15px; border: 3px solid #ff6b6b; margin: 20px 0; box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span style="font-size: 2rem;">üé≠</span>
                        <h3 style="color: #d63384; margin: 10px 0; font-family: 'Comic Sans MS', sans-serif;">Histoire Compl√®tement Folle</h3>
                    </div>
                    
                    <p style="color: #2d3436; font-size: 1.2rem; line-height: 1.8; text-align: justify; font-family: 'Comic Sans MS', sans-serif;">
                        ${story.story}
                    </p>
                    
                    <div style="text-align: center; margin-top: 25px;">
                        <span style="font-size: 1.5rem;">ü§™üéâü§°</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" style="background: linear-gradient(135deg, #ff6b6b, #e84393); font-size: 1.2rem; padding: 18px 35px; border-radius: 25px;" onclick="startAbsurdeQuestions()">
                        ü§£ J'ai ri ! Commencer les questions
                    </button>
                </div>
            `;
        }

        function startAbsurdeQuestions() {
            showAbsurdeQuestion();
        }

        function showAbsurdeQuestion() {
            const story = absurdeStories[currentAbsurdeStory.selectedStory];
            const currentQuestion = story.questions[currentAbsurdeStory.currentQuestion];
            const gameContainer = document.getElementById('game-container');
            
            gameContainer.innerHTML = `
                <div class="game-title">üé™ Questions D√©lirantes</div>
                <div class="game-subtitle">R√©ponds en gardant ton s√©rieux... si tu peux !</div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <div style="background: linear-gradient(135deg, #ff6b6b, #e84393); color: white; padding: 12px 25px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 1.1rem;">
                        ü§° Score: <span id="absurde-score">${currentAbsurdeStory.score}</span>/3 rires
                    </div>
                    <div style="color: #d63384; font-weight: 600; margin-bottom: 20px; font-size: 1.1rem;">
                        Question <span id="absurde-question-number">${currentAbsurdeStory.currentQuestion + 1}</span> sur 3
                    </div>
                </div>
                
                <div style="background: rgba(255, 107, 107, 0.1); padding: 25px; border-radius: 15px; border: 2px solid #ff6b6b; margin: 20px 0;">
                    <h3 style="color: #d63384; margin-bottom: 20px; font-size: 1.3rem; text-align: center;">${currentQuestion.question}</h3>
                    <div class="quiz-answers" id="absurde-answers">
                        ${currentQuestion.answers.map((answer, index) => 
                            `<button class="quiz-answer" style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(232, 67, 147, 0.1)); border-color: #ff6b6b; font-size: 1.1rem; padding: 15px; margin: 8px 0; color: #d63384;" onclick="selectAbsurdeAnswer(${index})">${answer}</button>`
                        ).join('')}
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="memo-submit" id="absurde-next-button" onclick="nextAbsurdeQuestion()" style="display: none; background: linear-gradient(135deg, #ff6b6b, #e84393);">
                        ${currentAbsurdeStory.currentQuestion < 2 ? 'ü§™ Question suivante' : 'üéâ Voir les r√©sultats'}
                    </button>
                </div>
                
                <div id="absurde-explanation" style="display: none; background: rgba(255, 107, 107, 0.1); padding: 15px; border-radius: 10px; margin-top: 15px; border: 2px solid #ff6b6b;">
                    <p style="color: #d63384; font-weight: 600; margin-bottom: 8px;">ü§° Explication :</p>
                    <p style="color: #2d3436; font-size: 1rem; font-family: 'Comic Sans MS', sans-serif;"></p>
                </div>
            `;
        }

        function selectAbsurdeAnswer(selectedIndex) {
            if (currentAbsurdeStory.answered) return;
            
            currentAbsurdeStory.answered = true;
            const story = absurdeStories[currentAbsurdeStory.selectedStory];
            const currentQuestion = story.questions[currentAbsurdeStory.currentQuestion];
            const correctIndex = currentQuestion.correct;
            const answers = document.querySelectorAll('.quiz-answer');
            
            answers.forEach((answer, index) => {
                answer.classList.add('disabled');
                if (index === correctIndex) {
                    answer.classList.add('correct');
                } else if (index === selectedIndex) {
                    answer.classList.add('wrong');
                }
            });
            
            if (selectedIndex === correctIndex) {
                currentAbsurdeStory.score++;
                document.getElementById('absurde-score').textContent = currentAbsurdeStory.score;
            }
            
            // Afficher l'explication
            const explanationDiv = document.getElementById('absurde-explanation');
            explanationDiv.querySelector('p:last-child').textContent = currentQuestion.explanation;
            explanationDiv.style.display = 'block';
            
            document.getElementById('absurde-next-button').style.display = 'block';
        }

        function nextAbsurdeQuestion() {
            currentAbsurdeStory.currentQuestion++;
            currentAbsurdeStory.answered = false;
            
            if (currentAbsurdeStory.currentQuestion < 3) {
                showAbsurdeQuestion();
            } else {
                showAbsurdeResults();
            }
        }

        function showAbsurdeResults() {
            const score = currentAbsurdeStory.score;
            let resultMessage, resultClass, resultEmoji;
            
            if (score === 3) {
                resultClass = 'success';
                resultMessage = "ü§° HILARANT ! Tu es le roi/la reine de l'absurde !";
                resultEmoji = "üèÜü§°üé™";
            } else if (score === 2) {
                resultClass = 'success';
                resultMessage = "üé≠ Excellent ! Tu ma√Ætrises bien la logique du d√©lire !";
                resultEmoji = "üëèü§™üéâ";
            } else if (score === 1) {
                resultClass = 'success';
                resultMessage = "üé™ Bien ! Tu commences √† comprendre l'absurdit√© !";
                resultEmoji = "üí™ü§°üåà";
            } else {
                resultClass = 'failure';
                resultMessage = "ü§™ Trop de logique tue la folie ! Laisse-toi aller !";
                resultEmoji = "üòÖüé≠üí´";
            }
            
            const gameContainer = document.getElementById('game-container');
            gameContainer.innerHTML = `
                <div class="game-title">üèÜ R√©sultats D√©lirants</div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${resultEmoji}</div>
                </div>
                
                <div class="memo-result ${resultClass}">
                    ${resultMessage}
                </div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <div style="background: linear-gradient(135deg, #ff6b6b, #e84393); color: white; padding: 20px; border-radius: 20px; display: inline-block; box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);">
                        <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 10px;">
                            ü§° ${score}/3 ü§°
                        </div>
                        <div style="font-size: 1.2rem; font-weight: 600;">
                            ${score === 3 ? 'Ma√Ætre du d√©lire !' : score === 2 ? 'Champion de l\'absurde !' : score === 1 ? 'Apprenti clown !' : 'Trop s√©rieux !'}
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button class="memo-restart" onclick="showAbsurdeStoryReading()">
                        üìñ Relire la folie
                    </button>
                    <button class="memo-submit" onclick="startAbsurdeQuestions()" style="background: linear-gradient(135deg, #ff6b6b, #e84393);">
                        üîÑ Refaire les questions
                    </button>
                    <button class="memo-submit" onclick="showAbsurdeStories()" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);">
                        üé™ Autre folie
                    </button>
                </div>
            `;
        }

        // INITIALISATION AUTOMATIQUE AU CHARGEMENT
        window.addEventListener('load', function() {
            console.log('üöÄ Jeu M√©mo charg√© !');
            initializeMemoGame();
        });
    </script>
</body>
</html>
